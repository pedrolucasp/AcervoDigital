<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

    <h:head>

        <title>Consultar - ACD - v2 </title>

        <!--jQuery-->
        <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>

        <!-- Bootstrap Javascript -->

        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"></link>

        <style>
            
            body {
                padding-top: 50px;
                padding-bottom: 20px;
            }
            

            .inicio {
                padding: 40px 15px;
                text-align: center;
            }
        </style>

    </h:head>
    <h:body>

        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Mostrar Navegação</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.xhtml">Acervo Colaborativo Digital </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
                    
            <ul class="nav navbar-nav navbar-left">
                <li class="active"><a href="consultar.xhtml" >Buscar um Evento</a></li>
            </ul>
            <form action="cadastrarEvento.xhtml" class="navbar-form navbar-right" role="form">          
            <button type="submit" class="btn btn-success">Cadastrar Evento</button>
           
            
          </form>
            
            <p class="navbar-text navbar-right">Logado como <strong> #{session.getAttribute("nome")} </strong></p>

        </div><!--/.navbar-collapse -->
      </div>
    </nav>
        
        
        <div class="inicio">
        
        
        <!--Container da busca come�a aqui-->

        <div class="container">
            <!-- Example row of columns -->
            <div class="row">

                <div class="col-xs-12">

                    <h:form class="form-signin">
                        <div class="col-md-6 col-md-offset-3">
                            <h:outputLabel for="buscador" value="Faça a busca usando a caixa abaixo: "></h:outputLabel>
                            <h:inputText class="form-control" id="buscador" p:placeholder="Buscar por título ou local..."  value="#{eventoMB.texto}" 
                                         valueChangeListener="#{eventoMB.consultar()}">
                                <f:ajax event="keyup" render="tabela"/>  
                            </h:inputText>
                        </div>
                        <div class="clearfix"></div>
                        <hr></hr>

                        <h1>Resultados da Busca...</h1>

                        <h:dataTable id="tabela" class="table table-hover" value="#{eventoMB.resultados}" var="e" >


                            <h:column>
                                <f:facet name="ID">
                                    <h:outputText value="ID"></h:outputText>
                                </f:facet>
                                #{e.id}
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Titulo"></h:outputText>
                                </f:facet>
                                #{e.titulo}
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Descri��o"></h:outputText>
                                </f:facet>
                                #{e.descricao}
                            </h:column>
            
                            
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Hashtags"></h:outputText>
                                </f:facet>
                                #{e.hashtag}
                            </h:column>
                            
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Local"></h:outputText>
                                </f:facet>
                                #{e.local}
                            </h:column>
                            

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Categoria"></h:outputText>
                                </f:facet>
                                #{e.id_categoria}
                            </h:column>
                            
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Imagem"></h:outputText>
                                </f:facet>
                                <h:graphicImage class="img-responsive img-rounded" width="480px" height="auto" value="/images/#{e.url_foto}"></h:graphicImage>
                            </h:column>

                        </h:dataTable>
                    </h:form>

                </div>
            </div>
        </div>

    </div>
    </h:body>
</html>

